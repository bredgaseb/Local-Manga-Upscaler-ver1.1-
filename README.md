# Local Manga Upscaler (v1.1)

**Local Manga Upscaler** — це гібридна система, призначена для автоматизації процесу завантаження сторінок манги/вебтонів безпосередньо з вебсайтів та їх швидкого масштабування (апскейлу) з використанням апаратного прискорення GPU (NVIDIA CUDA).

Система складається з двох основних компонентів: браузерного розширення (Chrome) та локального Python-скрипта (Монітора Черги).

---

## Архітектура та Технології

### 1. Компоненти Системи

| Компонент | Технологія | Призначення |
| :--- | :--- | :--- |
| **Розширення (Frontend)** | JavaScript (MV3) | Ініціація завантаження, збір URL-адрес глави. |
| **Монітор Черги (Backend)** | Python 3.10+ | Спостереження за папкою Input, сортування черги, виклик Real-ESRGAN. |
| **Обробник Апскейлу** | Real-ESRGAN (PyTorch) | Виконання високоякісного масштабування зображень. |

### 2. Ключові Оптимізації

* **Апаратне Прискорення:** Використовується NVIDIA CUDA (прапор `-g 0`) для запуску обробки на GPU.
* **Модель:** Використовується **`RealESRGAN_x2plus`** для досягнення оптимального балансу між швидкістю та якістю.
* **Надійність:** Логіка обробки включає параметри `--tile 400` для запобігання помилкам нестачі оперативної пам'яті (RAM) при роботі з надзвичайно довгими вебтунами.
* **Автоматизація:** Після апскейлу файл автоматично відкривається для перегляду та видаляється з черги.

---

## Налаштування та Вимоги

### Вимоги до Середовища

1.  **Операційна система:** Windows 10/11.
2.  **Апаратне забезпечення:** Відеокарта **NVIDIA GPU** (рекомендовано RTX 30-ї серії або новіше).
3.  **Драйвери:** Встановлений **NVIDIA CUDA Toolkit** (сумісний з вашою версією PyTorch).
4.  **Real-ESRGAN:** Встановлена та налаштована бібліотека Real-ESRGAN.

### Інсталяція Python-залежностей

Встановіть усі необхідні бібліотеки, використовуючи наданий файл `requirements.txt`:

```bash
pip install -r requirements.txt
```





# Local Manga Upscaler (v1.1) - Інструкція з Налаштування

Ця інструкція містить ключові кроки для запуску гібридної системи Manga Upscaler, що забезпечує автоматичне завантаження з Chrome та швидку обробку на локальному GPU.

---

## Обов'язкове Попереднє Налаштування

### 1. Налаштування Локальної Директорії (Symbolic Link)

Оскільки Chrome блокує пряме завантаження файлів на довільні диски (наприклад, D:), необхідно створити **Symbolic Link** (жорстке посилання). Це "обманює" Windows, змушуючи його перенаправляти файли з папки завантажень Chrome у вашу робочу директорію на диску D.

**Кроки:**

1.  **Видаліть** папку `C:\Users\ВАШЕ_ІМ'Я_КОРИСТУВАЧА\Downloads\MangaUpscale` (якщо вона була створена Chrome раніше).
2.  Відкрийте **Командний рядок (CMD) від імені Адміністратора**.
3.  Виконайте команду, замінивши *ВАШЕ\_ІМ'Я\_КОРИСТУВАЧА* на ваше фактичне ім'я користувача Windows:

    ```bash
    mklink /D "C:\Users\ВАШЕ_ІМ'Я_КОРИСТУВАЧА\Downloads\MangaUpscale" "D:\MangaUpscale"
    ```

---

### 2. Запуск Системи

**Крок А: Активація Монітора Черги**

1.  **Запустіть Монітор Черги:** Двічі клацніть на файлі **`StartUpscaler.bat`** у вашій робочій папці.
2.  Консоль має вивести: `[MangaUpscale (v1.0)] Watching for new images...`

**Крок Б: Використання Розширення**

1.  Переконайтеся, що ваше розширення Chrome встановлено та увімкнено.
2.  **Для запуску апскейлу:** У браузері Chrome натисніть **ПКМ** на зображенні (або на пустому місці сторінки для глави).
3.  Виберіть: **"Upscale this image..."** (або **"Upscale Full Chapter"**).

---

### 3. Обслуговування Системи

* **Зупинка:** Щоб коректно зупинити Монітор Черги, натисніть **Ctrl+C** у вікні консолі.
* **Очищення:** Після зупинки система автоматично очистить папки `INPUT` та `OUTPUT`.
